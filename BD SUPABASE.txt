-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.articulos (
  tiposku text,
  sku text NOT NULL UNIQUE,
  descriciolarga text,
  descripcioncorta text,
  idsku integer GENERATED ALWAYS AS IDENTITY NOT NULL,
  rnpa text,
  rne text,
  CONSTRAINT articulos_pkey PRIMARY KEY (idsku)
);
CREATE TABLE public.clientes (
  razonsocial text NOT NULL,
  idcli integer GENERATED ALWAYS AS IDENTITY NOT NULL UNIQUE,
  CONSTRAINT clientes_pkey PRIMARY KEY (razonsocial)
);
CREATE TABLE public.definicion_estanterias (
  id_estanteria text NOT NULL,
  pos_x text,
  pos_z text,
  niveles text,
  columnas text,
  ancho_slot text,
  alto_slot text,
  profundidad_slot text,
  posiciones_profundidad text,
  rotacion_y text,
  CONSTRAINT definicion_estanterias_pkey PRIMARY KEY (id_estanteria)
);
CREATE TABLE public.despachoListaEmpaque (
  idListaEmpaque bigint NOT NULL UNIQUE,
  fechaDespacho date NOT NULL,
  retiranDesdePlanta boolean,
  razonSocialTransporte text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  listaDespachada boolean,
  CONSTRAINT despachoListaEmpaque_pkey PRIMARY KEY (idListaEmpaque),
  CONSTRAINT despachoListaEmpaque_idListaEmpaque_fkey FOREIGN KEY (idListaEmpaque) REFERENCES public.listaempaque(idlista)
);
CREATE TABLE public.detallelistaempaque (
  idlista bigint NOT NULL,
  iditem bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  nropallet bigint NOT NULL,
  lotesproduccion text NOT NULL,
  cantidad double precision NOT NULL,
  CONSTRAINT detallelistaempaque_pkey PRIMARY KEY (idlista, nropallet),
  CONSTRAINT detallelistaempaque_idlista_fkey FOREIGN KEY (idlista) REFERENCES public.listaempaque(idlista),
  CONSTRAINT detallelistaempaque_nropallet_fkey FOREIGN KEY (nropallet) REFERENCES public.detallelotes(nropallet)
);
CREATE TABLE public.detallelotes (
  idsku integer,
  nropallet bigint NOT NULL,
  loteproducto text,
  fechaproduccion date,
  cantidad double precision,
  um text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT detallelotes_pkey PRIMARY KEY (nropallet),
  CONSTRAINT detallelotes_idsku_fkey FOREIGN KEY (idsku) REFERENCES public.articulos(idsku),
  CONSTRAINT detallelotes_nropallet_fkey FOREIGN KEY (nropallet) REFERENCES public.nroPallet(nrPallet)
);
CREATE TABLE public.listaempaque (
  idlista bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  idcliente integer NOT NULL,
  legajo real NOT NULL,
  fechacreacion timestamp without time zone NOT NULL DEFAULT (now() AT TIME ZONE 'utc'::text),
  listaAnulada boolean,
  CONSTRAINT listaempaque_pkey PRIMARY KEY (idlista),
  CONSTRAINT listaempaque_idcliente_fkey FOREIGN KEY (idcliente) REFERENCES public.clientes(idcli)
);
CREATE TABLE public.locks (
  id text NOT NULL,
  locked_by text,
  locked_at timestamp with time zone,
  operation_name text,
  CONSTRAINT locks_pkey PRIMARY KEY (id)
);
CREATE TABLE public.notasskulote (
  nropallet bigint NOT NULL UNIQUE,
  nota text NOT NULL,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT notasskulote_pkey PRIMARY KEY (nropallet),
  CONSTRAINT notasskulote_nropallet_fkey FOREIGN KEY (nropallet) REFERENCES public.detallelotes(nropallet)
);
CREATE TABLE public.nroPallet (
  nrPallet bigint NOT NULL UNIQUE,
  CONSTRAINT nroPallet_pkey PRIMARY KEY (nrPallet)
);
CREATE TABLE public.nropalettransferidos (
  nropallet bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT nropalettransferidos_pkey PRIMARY KEY (nropallet),
  CONSTRAINT nropalettransferidos_nropallet_fkey FOREIGN KEY (nropallet) REFERENCES public.detallelotes(nropallet)
);